GESTION D'ENTREPRISE

BACK-OFFICE

	TABLES :
		AUTHENTIFICATION
			Administrateur(id, nom, prenoms, email, idModule, mot_de_passe)
			Client(id, nom, prenoms, email, mot_de_passe, date_naissance, idGenre)

		MODULE, SERVICE, POSTE, DIPLOME, NATIONALITE, SITUATION_MATRIMONIALE, REGION
			Module(id, type)
			Service(id, type)
			Poste(id, type)
			Diplome(id, type)
			Nationalite(id, type)
			Situation_Matrimoniale(id, type)
			Region(id, type)

		VILLE/REGION
			Ville(id, idRegion, type)

		BESOIN
			Besoin(id, idPoste, idService, horaire_ilaina, heure_jour_homme)

		DETAILS BESOIN
			Details_Besoin_Genre( id, idBesoin, idGenre, note)
			Details_Besoin_Age( id, idBesoin, min, max, note)
			Details_Besoin_Diplome( id, idBesoin, idDiplome, note)
			Details_Besoin_Experience( id, idBesoin, annee_experience, note)
			Details_Besoin_Matrimoniale( id, idBesoin, idMatrimoniale, note)
			Details_Besoin_Salaire( id, idBesoin, min, max, note)
			Details_Besoin_Nationalite( id, idBesoin, idNationalite, note)
			Details_Besoin_Region( id, idBesoin, idRegion, note)
			Details_Besoin_Ville( id, idBesoin, idVille, note)

FRONT-OFFICE
	TABLES:
		CV
			Cv(id, idClient, idBesoin, idDiplome, experiences, idMatrimoniale, idVille)
		DETAILS CV
			Details_Cv_Salaire(id, idCv, min, max)
			Details_Cv_Diplome(id, idCv, pdf)
			Details_Cv_Travail_Anterieur(id, idCv, pdf)
		NOTE CV
			Note_Cv(id, idCv, note)



@ -0,0 +1,47 @@


CREATE SEQUENCE seqSortie
increment by 1
start WITH 1
minValue 1;

create table sortie(
    id varchar(10) default 'S' || LPAD(nextval('seqSortie')::text, 3, '0') not null primary key,
    dates date,
    produits varchar(10) references article(id),
    etats varchar(10) references type_sortie(id),
    entre varchar(10) references entre_stock(ide),
    quantite int
);

CREATE SEQUENCE seqConso
increment by 1
start WITH 1
minValue 1;


create table historique(
    id varchar(10) default 'H' || LPAD(nextval('seqConso')::text, 3, '0') not null primary key,
    dates date,
    identre varchar(10) references entre_stock(ide),
    produits varchar references article(id),
    quantite int,
    prix double precision,
    montant double precision
);



create or replace view  entre as select b.id, b.date, b.id_bon_commande as commande , a.article, l.quantite , 
l.prixunitaire, l.prixht, l.prixat, b.id_recepteur from bon_reception as b
 join liste_details_bon_de_commande as l on b.id_bon_commande = l.idboncommande
 join article as a on l.idarticle = a.id;

create view details_entre as select e.date, commande, a.article,quantite,prixunitaire, prixht, prixat 
from entre as e join article as a on e.article = a.id;

create table entre_stock as 
select  CONCAT('E', LPAD(CAST(nextval('seqentre') AS VARCHAR), 3, '0')) AS idE,
id, date, commande, article, quantite, prixunitaire,prixat,prixht from entre;

alter table entre_stock
    add constraint entre_stock_pk
        primary key (ide);

CREATE SEQUENCE seqentre
increment by 1
start WITH 1
minValue 1;